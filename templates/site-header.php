<header class="sticky top-0 z-50 border-b border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between py-2">
            <!-- Logo -->
            <a href="<?php echo home_url('/'); ?>" class="hover:opacity-80 transition-opacity" aria-label="Go to homepage">
                    <!-- Light mode logo -->
                    <svg width="221" height="88" viewBox="0 0 221 88" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-8 w-auto dark:hidden" role="img">
                        <title>ARCWP Logo</title>
                        <path d="M69.664 68L89.184 23.2H98.848L118.24 68H107.104L96.736 43.744C96.352 42.8053 95.968 41.8667 95.584 40.928C95.2427 39.9893 94.9013 39.0293 94.56 38.048C94.2187 37.0667 93.8987 36.1067 93.6 35.168C93.3013 34.2293 93.024 33.3333 92.768 32.48L94.944 32.416C94.688 33.44 94.3893 34.4213 94.048 35.36C93.7493 36.2987 93.4293 37.2373 93.088 38.176C92.7467 39.072 92.384 39.9893 92 40.928C91.616 41.8667 91.232 42.8267 90.848 43.808L80.48 68H69.664ZM78.816 59.68L82.336 51.488H105.376L108 59.68H78.816ZM127.683 68V23.2H150.147C153.304 23.2 156.078 23.8187 158.467 25.056C160.856 26.2507 162.712 27.9147 164.035 30.048C165.358 32.1813 166.019 34.656 166.019 37.472C166.019 40.3307 165.315 42.8907 163.907 45.152C162.542 47.3707 160.643 49.1413 158.211 50.464C155.822 51.744 153.134 52.384 150.147 52.384H138.051V68H127.683ZM155.715 68L142.787 47.776L154.051 46.176L168.259 68H155.715ZM138.051 44.064H149.059C150.254 44.064 151.299 43.808 152.195 43.296C153.134 42.784 153.859 42.08 154.371 41.184C154.926 40.288 155.203 39.2427 155.203 38.048C155.203 36.896 154.904 35.8933 154.307 35.04C153.752 34.144 152.963 33.4613 151.939 32.992C150.958 32.5227 149.784 32.288 148.419 32.288H138.051V44.064ZM202.074 68.64C198.533 68.64 195.226 68.0853 192.154 66.976C189.125 65.824 186.458 64.224 184.154 62.176C181.893 60.128 180.143 57.696 178.906 54.88C177.669 52.0213 177.05 48.864 177.05 45.408C177.05 42.0373 177.69 38.944 178.97 36.128C180.293 33.312 182.085 30.88 184.346 28.832C186.607 26.784 189.274 25.184 192.346 24.032C195.418 22.88 198.725 22.304 202.266 22.304C204.698 22.304 207.045 22.6027 209.306 23.2C211.61 23.7973 213.743 24.6293 215.706 25.696C217.669 26.7627 219.333 27.9787 220.698 29.344L214.234 37.408C213.21 36.4267 212.101 35.5733 210.906 34.848C209.711 34.08 208.367 33.4827 206.874 33.056C205.381 32.5867 203.738 32.352 201.946 32.352C200.197 32.352 198.49 32.6507 196.826 33.248C195.162 33.8453 193.69 34.72 192.41 35.872C191.13 36.9813 190.106 38.368 189.338 40.032C188.613 41.6533 188.25 43.488 188.25 45.536C188.25 47.584 188.634 49.4187 189.402 51.04C190.17 52.6613 191.215 54.048 192.538 55.2C193.903 56.3093 195.482 57.1627 197.274 57.76C199.066 58.3573 201.007 58.656 203.098 58.656C204.933 58.656 206.597 58.4 208.09 57.888C209.583 57.376 210.927 56.7573 212.122 56.032C213.317 55.264 214.383 54.4533 215.322 53.6L220.506 61.984C219.354 63.0933 217.818 64.16 215.898 65.184C213.978 66.208 211.823 67.04 209.434 67.68C207.045 68.32 204.591 68.64 202.074 68.64Z" fill="#0F172A"/>
                        <path d="M5.30034e-06 26L43.5 0.885266L43.5 51.1147L5.30034e-06 26Z" fill="#0F172A"/>
                        <rect x="7.48385" y="19.8279" width="1.65338" height="44.2501" transform="rotate(-60 7.48385 19.8279)" fill="#F8FAFC"/>
                        <path d="M59 62L15.5 87.1147L15.5 36.8853L59 62Z" fill="#0F172A"/>
                        <rect x="51.5162" y="68.1721" width="1.65338" height="44.2501" transform="rotate(120 51.5162 68.1721)" fill="#F8FAFC"/>
                    </svg>
                    <!-- Dark mode logo -->
                    <svg width="223" height="88" viewBox="0 0 223 88" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-8 w-auto hidden dark:block" role="img">
                        <title>ARCWP Logo</title>
                        <path d="M70.664 68L90.184 23.2H99.848L119.24 68H108.104L97.736 43.744C97.352 42.8053 96.968 41.8667 96.584 40.928C96.2427 39.9893 95.9013 39.0293 95.56 38.048C95.2187 37.0667 94.8987 36.1067 94.6 35.168C94.3013 34.2293 94.024 33.3333 93.768 32.48L95.944 32.416C95.688 33.44 95.3893 34.4213 95.048 35.36C94.7493 36.2987 94.4293 37.2373 94.088 38.176C93.7467 39.072 93.384 39.9893 93 40.928C92.616 41.8667 92.232 42.8267 91.848 43.808L81.48 68H70.664ZM79.816 59.68L83.336 51.488H106.376L109 59.68H79.816ZM128.683 68V23.2H151.147C154.304 23.2 157.078 23.8187 159.467 25.056C161.856 26.2507 163.712 27.9147 165.035 30.048C166.358 32.1813 167.019 34.656 167.019 37.472C167.019 40.3307 166.315 42.8907 164.907 45.152C163.542 47.3707 161.643 49.1413 159.211 50.464C156.822 51.744 154.134 52.384 151.147 52.384H139.051V68H128.683ZM156.715 68L143.787 47.776L155.051 46.176L169.259 68H156.715ZM139.051 44.064H150.059C151.254 44.064 152.299 43.808 153.195 43.296C154.134 42.784 154.859 42.08 155.371 41.184C155.926 40.288 156.203 39.2427 156.203 38.048C156.203 36.896 155.904 35.8933 155.307 35.04C154.752 34.144 153.963 33.4613 152.939 32.992C151.958 32.5227 150.784 32.288 149.419 32.288H139.051V44.064ZM203.074 68.64C199.533 68.64 196.226 68.0853 193.154 66.976C190.125 65.824 187.458 64.224 185.154 62.176C182.893 60.128 181.143 57.696 179.906 54.88C178.669 52.0213 178.05 48.864 178.05 45.408C178.05 42.0373 178.69 38.944 179.97 36.128C181.293 33.312 183.085 30.88 185.346 28.832C187.607 26.784 190.274 25.184 193.346 24.032C196.418 22.88 199.725 22.304 203.266 22.304C205.698 22.304 208.045 22.6027 210.306 23.2C212.61 23.7973 214.743 24.6293 216.706 25.696C218.669 26.7627 220.333 27.9787 221.698 29.344L215.234 37.408C214.21 36.4267 213.101 35.5733 211.906 34.848C210.711 34.08 209.367 33.4827 207.874 33.056C206.381 32.5867 204.738 32.352 202.946 32.352C201.197 32.352 199.49 32.6507 197.826 33.248C196.162 33.8453 194.69 34.72 193.41 35.872C192.13 36.9813 191.106 38.368 190.338 40.032C189.613 41.6533 189.25 43.488 189.25 45.536C189.25 47.584 189.634 49.4187 190.402 51.04C191.17 52.6613 192.215 54.048 193.538 55.2C194.903 56.3093 196.482 57.1627 198.274 57.76C200.066 58.3573 202.007 58.656 204.098 58.656C205.933 58.656 207.597 58.4 209.09 57.888C210.583 57.376 211.927 56.7573 213.122 56.032C214.317 55.264 215.383 54.4533 216.322 53.6L221.506 61.984C220.354 63.0933 218.818 64.16 216.898 65.184C214.978 66.208 212.823 67.04 210.434 67.68C208.045 68.32 205.591 68.64 203.074 68.64Z" fill="#F8FAFC"/>
                        <path d="M0.999998 26L44.5 0.885266L44.5 51.1147L0.999998 26Z" fill="#F8FAFC"/>
                        <rect x="8.48386" y="19.8279" width="1.65338" height="44.2501" transform="rotate(-60 8.48386 19.8279)" fill="#0F172A"/>
                        <path d="M60 62L16.5 87.1147L16.5 36.8853L60 62Z" fill="#F8FAFC"/>
                        <rect x="52.5161" y="68.1721" width="1.65338" height="44.2501" transform="rotate(120 52.5161 68.1721)" fill="#0F172A"/>
                    </svg>
            </a>

            <!-- Right column: Theme toggle and main menu -->
            <div class="flex items-center gap-4 md:gap-8">
                <?php require_once get_template_directory() . '/templates/theme-toggle.php'; ?>

                <!-- Mobile menu button (visible below md) -->
                <button id="header-menu-toggle" class="md:hidden text-slate-900 dark:text-slate-50" aria-label="Open menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" role="presentation">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>

                <!-- Desktop nav (hidden below md) -->
                <nav class="hidden md:block">
                <?php
                wp_nav_menu(array(
                    'theme_location' => 'primary',
                    'container' => false,
                    'menu_class' => 'flex gap-4 uppercase font-lexend font-bold text-base text-slate-900 dark:text-slate-50',
                    'fallback_cb' => false,
                ));
                ?>
                </nav>
            </div>
        </div>
    </div>

    <!-- Mobile Header Menu Overlay -->
    <div id="header-menu-overlay" class="fixed inset-0 bg-slate-50 dark:bg-slate-900 z-50 hidden flex-col">
        <div class="flex justify-end p-6">
            <button id="header-menu-close" class="text-slate-900 dark:text-slate-50 hover:text-orange-600 transition-colors" aria-label="Close menu">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <nav class="flex-1 px-8">
            <?php
            wp_nav_menu(array(
                'theme_location' => 'primary',
                'container' => false,
                'menu_class' => 'space-y-6',
                'fallback_cb' => false,
                'link_before' => '<span class="block text-2xl font-lexend font-bold uppercase py-3 text-slate-900 dark:text-slate-50 hover:text-orange-600 transition-colors">',
                'link_after' => '</span>',
            ));
            ?>
        </nav>
    </div>
</header>